<!DOCTYPE html>
<html>
<head>
    <title>TikTok Content Manager</title>
</head>
<body>
<h1>TikTok Content Manager</h1>

<p>This is a web service for managing and publishing content using the official TikTok API.</p>

<p>Contact1: gorik_7452@mail.ru</p>

<p>
<a href="terms.html">Terms of Service</a><br>
<a href="privacy.html">Privacy Policy</a>
</p>

<hr>
<h2>TikTok Authorization</h2>

<button id="loginBtn">Login with TikTok</button>

<div id="result" style="margin-top: 20px; padding: 10px; background: #f0f0f0; display: none;">
    <h3>Authorization Code:</h3>
    <code id="codeValue" style="word-break: break-all;"></code>
    <p><small>Скопируйте этот код и используйте в скрипте для получения токена</small></p>
</div>

<script>
    const CLIENT_KEY = "sbawncdhv4cuq62wdm";
    const REDIRECT_URI = "https://gorikus.github.io/tiktok-app-legal/";
    
    document.getElementById('loginBtn').addEventListener('click', function() {
        const authUrl = "https://www.tiktok.com/v2/auth/authorize/" +
            "?client_key=" + CLIENT_KEY +
            "&response_type=code" +
            "&scope=user.info.basic,video.upload,video.publish" +
            "&redirect_uri=" + encodeURIComponent(REDIRECT_URI) +
            "&state=123";
        window.location.href = authUrl;
    });
    
    // Проверяем, есть ли code в URL после редиректа
    const urlParams = new URLSearchParams(window.location.search);
    const code = urlParams.get('code');
    if (code) {
        document.getElementById('result').style.display = 'block';
        document.getElementById('codeValue').textContent = code;
    }
</script>

</body>
</html>
